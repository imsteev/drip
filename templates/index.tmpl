{{ define "body" }}
<main>
  <!-- TODO: by default the QR code should be obfuscated. -->
  <img
    src="https://chart.googleapis.com/chart?cht=qr&chl={{ .RoomURL }}&chs=160x160&chld=L|0"
    class="qr-code img-thumbnail img-responsive"
  />
  <div>
    <div>
      <h1>Drip</h1>
      <div class="box">
        <input
          id="text-input"
          name="text"
          type="text"
          placeholder="What do you want to share?"
          hx-post="/drip"
          hx-target="body"
        />
        <section class="actions margin">
          <button type="button">+ new drip</button>
        </section>
      </div>
      <br />
    </div>
  </div>
  <div id="drip-container">
    <div style="display: flex" class="flex-wrap:wrap">
      {{ range.Messages }}
      <form
        hx-delete="/drip?text={{.}}"
        hx-swap="outerHTML"
        style="border-radius: 16px"
      >
        <div class="drip">
          {{ println .}}
          <button>x</button>
        </div>
      </form>
      {{ end }}
    </div>
  </div>
  <script>
    // make it faster/easier to create new drip
    window.addEventListener("keydown", () => {
      if (document.activeElement != document.getElementById("text-input")) {
        document.getElementById("text-input").focus();
      }
    });
  </script>
</main>
{{ end }}

{{ define "body" }}
<main>
  <div id="main-input">
    <h1>Drip</h1>
    <div>
      <input
        id="text-input"
        name="text"
        type="text"
        placeholder="What do you want to share?"
        hx-post="/drip"
        hx-target="body"
      />
      <div style="margin: 8px 8px 0 0; text-align: right">enter to drip</div>
    </div>
    <p>or</p>
    <div style="display: flex; align-items: center">
      <input id="upload-file" type="file" />
    </div>
  </div>
  <div id="drip-container">
    <h2>Recent</h2>
    <div style="display: flex; flex-wrap: wrap">
      {{ range . }}
      <form
        hx-delete="/drip?text={{.}}"
        hx-swap="outerHTML"
        style="margin: 16px; border-radius: 16px"
      >
        <div
          style="
            border: 1px solid chocolate;
            padding: 16px;
            border-radius: 16px;
          "
        >
          {{ println .}}
          <button>clear</button>
        </div>
      </form>
      {{ end }}
    </div>
  </div>
  <script>
    window.addEventListener("keydown", () => {
      if (document.activeElement != document.getElementById("text-input")) {
        document.getElementById("text-input").focus();
      }
    });
  </script>
</main>
{{ end }}
